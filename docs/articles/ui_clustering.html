<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clustering - UI • singleCellTK</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Clustering - UI">
<meta property="og:description" content="singleCellTK">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">singleCellTK</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/introduction_to_SCTK.html">General Workflow</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Shell Command Line Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/run_qc.html">Quality Control</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R Console Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/import_scRNAseq_data_as_SCE.html">Import data into SCTK</a>
    </li>
    <li>
      <a href="../articles/run_qc.html">Quality Control</a>
    </li>
    <li>
      <a href="../articles/normalization.html">Normalization</a>
    </li>
    <li>
      <a href="../articles/batch_correction.html">Batch Correction</a>
    </li>
    <li>
      <a href="../articles/variability.html">Variability</a>
    </li>
    <li>
      <a href="../articles/feature_selection.html">Feature Selection</a>
    </li>
    <li>
      <a href="../articles/differential_expression.html">Differential Expression</a>
    </li>
    <li>
      <a href="../articles/find_marker.html">Find Marker via DE</a>
    </li>
    <li>
      <a href="../articles/visualize_results.html">Visualize Results</a>
    </li>
    <li>
      <a href="../articles/heatmap.html">Heatmap Visualization</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Shiny UI Analysis
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ui_batch_correction.html">Batch Correction</a>
    </li>
    <li>
      <a href="../articles/ui_clustering.html">Clustering</a>
    </li>
    <li>
      <a href="../articles/ui_differential_expression.html">Differential Expression</a>
    </li>
    <li>
      <a href="../articles/ui_find_marker.html">Find Marker</a>
    </li>
    <li>
      <a href="../articles/ui_heatmap.html">Generic Heatmap</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/compbiomed/singleCellTK">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="ui_clustering_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Clustering - UI</h1>
                        <h4 class="author">Yichen Wang</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/compbiomed/singleCellTK/blob/master/vignettes/ui_clustering.Rmd"><code>vignettes/ui_clustering.Rmd</code></a></small>
      <div class="hidden name"><code>ui_clustering.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This section describes the usage of the user interface (UI) for singleCellTK (SCTK) clustering workflow. The underneath process is wrapped by R function for clustering, including <code><a href="../reference/runScranSNN.html">runScranSNN()</a></code>, <code><a href="../reference/runKMeans.html">runKMeans()</a></code> and <code><a href="../reference/seuratFindClusters.html">seuratFindClusters()</a></code>. For the help of R console workflow, also refer to <a href="clustering.html">the help page for R console</a>.</p>
</div>
<div id="ui-layout" class="section level2">
<h2 class="hasAnchor">
<a href="#ui-layout" class="anchor"></a>UI Layout</h2>
<div id="entry-of-the-panel" class="section level3">
<h3 class="hasAnchor">
<a href="#entry-of-the-panel" class="anchor"></a>Entry of The Panel</h3>
<p>From anywhere of the UI, the panel for clustering can be accessed from the top navigation panel at the circled tab shown below.</p>
<p><img src="clst_ui_entry.png" alt="Entry"><br></p>
<p>The UI is includes two panels. The top one is for setting the parameters and run the clustering, while the bottom one is for visualizing the results.</p>
</div>
<div id="run-clustering" class="section level3">
<h3 class="hasAnchor">
<a href="#run-clustering" class="anchor"></a>Run Clustering</h3>
<div id="choose-an-algorithm" class="section level4">
<h4 class="hasAnchor">
<a href="#choose-an-algorithm" class="anchor"></a>Choose An Algorithm</h4>
<p><img src="clst_ui_algo.png" style="border: 1px solid rgba(0,0,0,0.2)"></p>
<p>User will choose an algorithm to run the clustering at the very first step. The slide-down option list is constructed in a grouped style. Each group lists all the algorithm that a dependency (shown with grey text) supports. By selecting an algorithm that belongs to different groups, the parameter settings will change.</p>
</div>
<div id="parameter-settings" class="section level4">
<h4 class="hasAnchor">
<a href="#parameter-settings" class="anchor"></a>Parameter Settings</h4>
<div id="scran-snn" class="section level5">
<h5 class="hasAnchor">
<a href="#scran-snn" class="anchor"></a>Scran SNN</h5>
<p><img src="clst_ui_scran.png" alt="scran"><br></p>
<p>When the selected algorithm belongs to “Scran SNN” group, the parameter settings will look like the figure above. For the choices in the algorithm list, please refer to <code><a href="https://rdrr.io/pkg/igraph/man/cluster_walktrap.html">igraph::cluster_walktrap()</a></code>, <code><a href="https://rdrr.io/pkg/igraph/man/cluster_louvain.html">igraph::cluster_louvain()</a></code>, <code><a href="https://rdrr.io/pkg/igraph/man/cluster_infomap.html">igraph::cluster_infomap()</a></code>, <code><a href="https://rdrr.io/pkg/igraph/man/cluster_fast_greedy.html">igraph::cluster_fast_greedy()</a></code>, <code><a href="https://rdrr.io/pkg/igraph/man/cluster_label_prop.html">igraph::cluster_label_prop()</a></code>, and <code><a href="https://rdrr.io/pkg/igraph/man/cluster_leading_eigen.html">igraph::cluster_leading_eigen()</a></code>.</p>
<ul>
<li>Data matrix selection - selection input <strong>“Select Input Matrix”</strong>. Scran SNN method allows various type of data matrix. Either A full-sized or subsetted expression matrix, technically called <code>assay</code> or <code>altExp</code>, respectively, or a dimension reduction, technically <code>reducedDim</code>, is allowed.</li>
<li>Resolution setting - numeric input <strong>“K value”</strong>. <code>K</code> is an integer scalar specifying the number of nearest neighbors to consider during graph construction. Considering more neighbors results in larger groups. (See parameter <code>k</code> of <code><a href="https://rdrr.io/pkg/scran/man/buildSNNGraph.html">scran::buildSNNGraph()</a></code>)</li>
<li>Algorithm detail setting - selection input <strong>“Edge Weight Type”</strong>. User can specify the type of weighting scheme to use for shared neighbors. (See parameter <code>type</code> of <code><a href="https://rdrr.io/pkg/scran/man/buildSNNGraph.html">scran::buildSNNGraph()</a></code>)</li>
<li>Component number setting (Only used when the chosen data matrix is an <code>assay</code> or <code>altExp</code>) - numeric input <strong>“Number of Components”</strong>. When an <code>assay</code> or <code>altExp</code> is chosen, the algorithm will perform a PCA on the matrix and obtain the top principal components (PCs) for downstream use. Thus users will specify the number of PCs here.</li>
</ul>
</div>
<div id="k-means" class="section level5">
<h5 class="hasAnchor">
<a href="#k-means" class="anchor"></a>K-Means</h5>
<p><img src="clst_ui_kmeans.png" alt="kmeans"><br></p>
<p>When the selected algorithm belongs to “K-Means” group, the parameter settings will look like the figure above.</p>
<ul>
<li>Data matrix selection - selection input <strong>“Select a ReducedDim”</strong>. Here the data matrix allowed can only be a dimension reduction, technically called <code>reducedDim</code>. Should be obtained in advance from <a href="#">“Feature Selection &amp; Dimension Reduction” tab</a>.</li>
<li>Cluster number determining - numeric input <strong>“Number of Centers (Clusters)”</strong>. User will decide the exact number of clusters here. In term of K-means algorithm, the number of cluster centroids.</li>
<li>Iteration limit setting - numeric input <strong>“Max Number of Iterations”</strong>. User will here decide the maximum number of iterations to run.</li>
<li>Algorithm detail setting - numeric input <strong>“Number of Random Sets”</strong>. Kmeans attempts multiple initial configurations and reports on the best one. Here users will set the number of initial configurations to use.</li>
</ul>
</div>
<div id="seurat" class="section level5">
<h5 class="hasAnchor">
<a href="#seurat" class="anchor"></a>Seurat</h5>
<p><img src="clst_ui_seurat.png" alt="seurat"><br></p>
<p>When the selected algorithm belongs to “Seurat” group, the parameter settings will look like the figure above.</p>
<ul>
<li>Data matrix selection - selection input <strong>“Select a ReducedDim”</strong>. Here the data matrix allowed can only be a dimension reduction, technically called <code>reducedDim</code>. Should be obtained in advance from <a href="#">“Feature Selection &amp; Dimension Reduction” tab</a>.</li>
<li>Component number setting - numeric input <strong>“How Many Dimensions to Use”</strong>.</li>
<li>Algorithm detail setting - checkbox input <strong>“Group Singletons”</strong>.</li>
<li>Resolution setting - numeric input <strong>“Resolution”</strong>.</li>
</ul>
</div>
</div>
</div>
<div id="visualization" class="section level3">
<h3 class="hasAnchor">
<a href="#visualization" class="anchor"></a>Visualization</h3>
<p><img src="clst_ui_vis.png" style="border: 1px solid rgba(0,0,0,0.2)"></p>
<p>The visualization is implemented with a plotting of a chosen dimension reduction, colored with a chosen cluster assignment.</p>
<ul>
<li>Cluster annotation selection. radio button selection <strong>“Select from Current Results”</strong> and <strong>“Select from All Present Annotation”</strong>. And a selection input follows. Only a successful run of clustering in the current SCTK session adds an option for the new result to “Select from Current Results”, while all the cell annotation stored in background (i.e. <code>colData(sce)</code>) are accessible if “Select from All Present Annotation” is chosen.</li>
<li>Dimension Reduction selection - selection input <strong>“Use Reduction”</strong>. User have to choose a reduction here for plotting. If there is not yet any option, user can obtain one from <a href="#">“Feature Selection &amp; Dimension Reduction” tab</a>.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Joshua D. Campbell, David Jenkins, Tyler Faits, Mohammed Muzamil Khan, Zhe Wang, Emma Briars, Sebastian Carrasco Pro, W. Evan Johnson, Yusuke Koga, Shruthi Bandyadka, Anastasia Leshchyk, Rui Hong, Yichen Wang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
